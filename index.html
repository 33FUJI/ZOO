<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>33 ä»£è³¼ç™»è¨˜</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    
    <style>
        :root { --main-blue: #2c3e50; --soft-blue: #34495e; --light-bg: #f8f9fa; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--light-bg); margin: 0; color: #333; }
        
        /* å…¥å£ç•«é¢ï¼šæ¥µç°¡é¢¨æ ¼ */
        #entry-page { 
            position: fixed; inset: 0; background: white; 
            display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 5000; 
        }
        .entry-box { width: 80%; max-width: 300px; text-align: center; }
        .btn-main { 
            width: 100%; padding: 15px; margin: 10px 0; border-radius: 10px; border: 1px solid #ddd;
            background: white; font-size: 1.1em; cursor: pointer; transition: 0.2s;
        }
        .btn-main:active { background: #f0f0f0; }
        .btn-primary { background: var(--main-blue); color: white; border: none; font-weight: bold; }

        /* ä¸»ç¨‹å¼ä»‹é¢ */
        header { padding: 20px; text-align: center; font-size: 1.2em; font-weight: bold; background: white; border-bottom: 1px solid #eee; }
        .container { padding: 15px; max-width: 600px; margin: auto; }
        
        /* å•†å“æ¸…å–®æ¨£å¼ */
        .item-row { 
            background: white; padding: 15px; border-radius: 10px; margin-bottom: 10px;
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid #eee; box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }
        .item-info { flex: 1; }
        .item-name { font-weight: bold; font-size: 1.1em; }
        .item-price { color: #888; font-size: 0.9em; margin-top: 4px; }
        .item-stock { font-size: 0.8em; color: #bca000; }

        /* ç™»è¨˜å€ (å›ºå®šåœ¨åº•éƒ¨) */
        .bottom-cart { 
            position: fixed; bottom: 0; left: 0; right: 0; background: white; 
            padding: 15px; border-top: 1px solid #ddd; box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            display: none; flex-direction: column; gap: 10px;
        }
        .qty-box { display: flex; align-items: center; justify-content: space-between; background: #f0f0f0; padding: 10px; border-radius: 8px; }
        .nickname-input { padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1em; }
        .btn-submit { background: var(--main-blue); color: white; border: none; padding: 15px; border-radius: 8px; font-weight: bold; font-size: 1.1em; }

        /* ç®¡ç†è€…å°ˆç”¨éš±è—å…¥å£ */
        .admin-gate { position: absolute; bottom: 10px; color: #eee; font-size: 0.6em; cursor: pointer; }

        /* é¢æ¿å½ˆçª— */
        .panel { position: fixed; inset: 0; background: white; z-index: 1000; display: none; flex-direction: column; padding: 20px; overflow-y: auto; }
        .admin-only { display: none; }
        .tag { padding: 2px 6px; border-radius: 4px; font-size: 0.7em; font-weight: bold; margin-left: 5px; color: white; }
    </style>
</head>
<body>

<div id="entry-page">
    <div class="entry-box">
        <h2 style="margin-bottom: 30px;">33 ä»£è³¼ç™»è¨˜</h2>
        <button class="btn-main btn-primary" onclick="enterOrder()">ğŸ›ï¸ æˆ‘è¦ç™»è¨˜</button>
        <button class="btn-main" onclick="togglePanel('user-search-panel')">ğŸ” æŸ¥è©¢ç´€éŒ„</button>
    </div>
    <div class="admin-gate" onclick="enterAdmin()">.</div>
</div>

<header>33 æ—¥æœ¬ä»£è³¼ç™»è¨˜è¡¨</header>

<div class="container" id="item-list">è®€å–ä¸­...</div>

<div id="bottom-cart" class="bottom-cart">
    <div style="font-size: 0.9em; font-weight: bold;" id="selected-item-name">å°šæœªé¸æ“‡å•†å“</div>
    <div class="qty-box">
        <span>ç™»è¨˜æ•¸é‡ï¼š</span>
        <input type="number" id="qty-input" value="1" min="1" style="width: 60px; font-size: 1.2em; text-align: center;" oninput="updateTotal()">
    </div>
    <input type="text" id="nickname" class="nickname-
