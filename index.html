<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>33æ—¥æœ¬å‹•ç‰©åœ’</title>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
<style>
:root{--bg:#fdfaf5;--blue:#003399;--red:#d9534f;--gold:#b5a491}
body{font-family:sans-serif;background:var(--bg);margin:0;padding-bottom:180px;color:#333;user-select:none}
header{padding:20px;text-align:center;font-weight:bold;color:var(--gold);font-size:1.4em;background:#fff;box-shadow:0 2px 5px rgba(0,0,0,0.05)}
.top-section{padding:15px;background:#fff;margin-bottom:10px}
.nick-input{width:100%;padding:12px;border-radius:10px;border:1px solid #ddd;box-sizing:border-box;font-size:16px}
.cat-grid{display:grid;grid-template-columns:1fr 1fr;gap:15px;padding:10px 15px}
.cat-card{background:#fff;padding:25px 10px;border-radius:15px;text-align:center;box-shadow:0 4px 10px rgba(0,0,0,0.05);cursor:pointer;border:1px solid #eee;font-weight:bold}
.modal{position:fixed;inset:0;background:var(--bg);z-index:9999;display:none;flex-direction:column}
.modal-header{padding:15px;background:#fff;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee}
.p-group{background:#fff;margin:10px 15px;border-radius:10px;border:1px solid #eee;overflow:hidden}
.p-header{padding:10px 15px;font-weight:bold;background:#fafafa;border-bottom:1px solid #eee;display:flex;justify-content:space-between}
.spec-item{display:flex;justify-content:space-between;align-items:center;padding:12px 15px;border-bottom:1px solid #f9f9f9}
.qty-controls{display:flex;align-items:center;gap:12px;flex-shrink:0}
.qty-btn{width:38px;height:38px;border-radius:8px;border:none;background:#eee;cursor:pointer;font-size:22px;display:flex;align-items:center;justify-content:center;active{background:#ddd}}
.order-area{position:fixed;bottom:0;left:0;right:0;background:#fff;padding:15px;border-radius:20px 20px 0 0;box-shadow:0 -5px 20px rgba(0,0,0,0.15);z-index:10000;border-top:2px solid var(--blue)}
.submit-btn{width:100%;padding:15px;border-radius:10px;border:none;background:var(--blue);color:#fff;font-weight:bold;cursor:pointer;font-size:1.1em;margin-top:10px}
.cart-detail{max-height:80px;overflow-y:auto;font-size:0.85em;margin-bottom:10px;border-bottom:1px solid #eee;padding-bottom:5px}
.admin-box{padding:15px;background:#fff;margin:10px;border-radius:10px;border:1px solid #ddd}
table{width:100%;border-collapse:collapse;font-size:0.8em;margin-top:10px;background:#fff}
th,td{border:1px solid #eee;padding:10px;text-align:left}
</style>
</head>
<body>

<header>âœ¨ 33æ—¥æœ¬å‹•ç‰©åœ’ âœ¨</header>

<div class="top-section">
    <input type="text" id="user-nick" class="nick-input" placeholder="âœ è«‹è¼¸å…¥æ‚¨çš„æš±ç¨± (å¿…å¡«)">
    <div style="display:flex; justify-content:space-between; margin-top:10px; align-items:center;">
        <button onclick="fetchHistory()" style="background:none; border:none; color:var(--blue); text-decoration:underline; font-size:0.9em; cursor:pointer;">ğŸ” æŸ¥è©¢æˆ‘çš„ç™»è¨˜ç´€éŒ„</button>
        <button id="admin-trigger" onclick="toggleAdmin()" style="display:none; background:var(--gold); border:none; color:white; padding:6px 15px; border-radius:5px; font-size:0.85em; font-weight:bold;">ğŸ›  ç®¡ç†è€…ä»‹é¢</button>
    </div>
</div>

<div class="cat-grid" id="main-grid"></div>

<div id="admin-area" style="display:none; padding-bottom:100px;">
    <div class="admin-box">
        <h3>â• æ–°å¢å•†å“</h3>
        <input id="ad-cat" style="width:100%;margin-bottom:5px;padding:8px;" placeholder="åˆ†é¡ (ä¾‹å¦‚: SS10é€±é‚Š)">
        <input id="ad-name" style="width:100%;margin-bottom:5px;padding:8px;" placeholder="åç¨± (ä¾‹å¦‚: 01 Tæ¤)">
        <input id="ad-price" style="width:100%;margin-bottom:5px;padding:8px;" type
