<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>33日本動物園 | 高速代購系統</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <style>
        :root{--bg:#f4f4f4;--blue:#003399;--red:#d9534f;--white:#ffffff}
        body{font-family:sans-serif;margin:0;height:100vh;display:flex;flex-direction:column;overflow:hidden}
        
        /* 頂部暱稱 */
        header{padding:10px;background:#fff;border-bottom:1px solid #ddd;display:flex;gap:10px;align-items:center}
        .nick-input{flex:1;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:16px}

        /* 主區域佈局 */
        .main-container{display:flex;flex:1;overflow:hidden;background:var(--bg)}
        
        /* 左側：商品名稱 */
        .left-menu{width:35%;background:#eee;overflow-y:auto;border-right:1px solid #ddd}
        .menu-item{padding:20px 10px;border-bottom:1px solid #ddd;font-size:0.95em;cursor:pointer;background:#eee}
        .menu-item.active{background:var(--white);font-weight:bold;color:var(--blue);border-right:3px solid var(--blue)}

        /* 右側：規格與加減 */
        .right-content{width:65%;background:var(--white);overflow-y:auto;padding:10px}
        .spec-card{border:1px solid #eee;border-radius:8px;padding:12px;margin-bottom:10px;background:#fafafa}
        .spec-info{display:flex;justify-content:space-between;margin-bottom:10px;font-weight:bold}
        .qty-row{display:flex;align-items:center;justify-content:flex-end;gap:15px}
        .qty-btn{width:35px;height:35px;border:1px solid var(--blue);background:#fff;color:var(--blue);border-radius:5px;font-size:20px;cursor:pointer}
        .qty-num{min-width:30px;text-align:center;font-size:1.1em;font-weight:bold}

        /* 底部明細條 */
        .bottom-bar{background:var(--white);border-top:2px solid var(--blue);padding:15px;box-shadow:0 -2px 10px rgba(0,0,0,0.1)}
        .summary-info{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
        .submit-btn{width:100%;padding:15px;background:var(--blue);color:#fff;border:none;border-radius:10px;font-size:1.1em;font-weight:bold}
        
        /* 明細彈窗 */
        #cart-modal{position:fixed;bottom:80px;left:0;right:0;background:#fff;max-height:60%;overflow-y:auto;z-index:99;display:none;border-radius:15px 15px 0 0;padding:20px;box-shadow:0 -5px 20px rgba(0,0,0,0.2)}
        .cart-item{display:flex;justify-content:space-between;padding:10px 0;border-bottom:1px solid #eee}

        /* 管理員 */
        #admin-panel{position:fixed;inset:0;background
