<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ§¸ 33 æ—¥æœ¬ä»£è³¼ç³»çµ±</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f8f5f2;     /* æº«æš–å¥¶èŒ¶åº•è‰² */
            --primary-color: #a68b6d; /* ç„¦ç³–æ£• (ä¸»è‰²) */
            --secondary-color: #829481; /* é¼ å°¾è‰ç¶  (ä¸‹å–®æŒ‰éˆ•) */
            --text-color: #4a4a4a;    /* æ·±ç°è‰²æ–‡å­— (ä¸åˆºçœ¼) */
            --card-bg: #ffffff;
            --border-color: #e0d7ce;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0; padding: 0;
            display: flex; flex-direction: column;
            height: 100vh; overflow: hidden;
        }

        /* é ‚éƒ¨å°è¦½åˆ— */
        header {
            background-color: var(--card-bg);
            padding: 15px 25px;
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.02);
        }
        .logo { font-size: 20px; font-weight: 700; color: var(--primary-color); }

        /* ç¬¬ä¸€å±¤ï¼šå ´æ¬¡é¸æ“‡å¡ç‰‡ (è“‹æ¿) */
        #event-overlay {
            position: fixed; inset: 0; background: var(--bg-color);
            z-index: 999; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }
        .event-title { margin-bottom: 30px; font-size: 24px; letter-spacing: 2px; }
        .event-grid { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
        .event-card {
            background: var(--card-bg); width: 220px; padding: 40px 20px;
            border-radius: 15px; text-align: center; cursor: pointer;
            border: 1px solid var(--border-color); transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .event-card:hover { transform: translateY(-5px); border-color: var(--primary-color); }
        .event-card h3 { margin: 0; font-size: 18px; }

        /* ç¬¬äºŒå±¤ï¼šä¸»ä»‹é¢ä½ˆå±€ */
        .main-container { display: flex; flex: 1; overflow: hidden; }

        /* å·¦å´ï¼šå•†å“åˆ—è¡¨ */
        .product-area { flex: 1; overflow-y: auto; padding: 25px; }
        .back-btn { 
            background: none; border: 1px solid var(--primary-color); 
            color: var(--primary-color); padding: 6px 15px; border-radius: 20px;
            cursor: pointer; margin-bottom: 20px; font-size: 14px;
        }

        .product-table { width: 100%; border-collapse: collapse; background: var(--card-bg); border-radius: 10px; overflow: hidden; }
        .product-table th { background: #fdfaf7; padding: 15px; text-align: left; border-bottom: 2px solid var(--bg-color); }
        .product-table td { padding: 15px; border-bottom: 1px solid var(--bg-color); }
        
        .cat-badge { background: #eee5db; color: #8a7a6a; font-size: 11px; padding: 3px 8px; border-radius: 4px; margin-right: 10px; }
        .add-btn { background: var(--primary-color); color: white; border: none; padding: 8px 15px; border-radius: 6px; cursor: pointer; transition: 0.2s; }
        .add-btn:hover { opacity: 0.8; }

        /* å³å´ï¼šè³¼ç‰©è»Šå€å¡Š (å›ºå®šåœ¨å´é‚Š) */
        .cart-sidebar { width: 350px; background: var(--card-bg); border-left: 1px solid var(--border-color); display: flex; flex-direction: column; padding: 25px; }
        .cart-header { font-size: 18px; font-weight: 700; margin-bottom: 20px; border-bottom: 1px solid var(--bg-color); padding-bottom: 10px; }
        .cart-list { flex: 1; overflow-y: auto; }
        .cart-item { display: flex; justify-content: space-between; margin-bottom: 12px; font-size: 14px; background: #fafafa; padding: 10px; border-radius: 8px; }
        .remove-btn { color: #d9534f; cursor: pointer; border: none; background: none; font-size: 16px; }

        .cart-footer { border-top: 1px solid var(--bg-color); padding-top: 20px; }
        .total-box { display: flex; justify-content: space-between; font-size: 22px; font-weight: 700; color: #d9534f; margin-bottom: 15px; }
        .nick-input { width: 100%; padding: 12px; border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 15px; box-sizing: border-box; outline: none; }
        .submit-btn { width: 100%; background: var(--secondary-color); color: white; border: none; padding: 15px; font-size: 16px; font-weight: 700; border-radius: 8px; cursor: pointer; }
        
        @media (max-width: 768px) {
            .main-container { flex-direction: column; }
            .cart-sidebar { width: 100%; height: 300px; border-left: none; border-top: 1px solid var(--border-color); }
        }
    </style>
</head>
<body>

<div id="event-overlay">
    <h2 class="event-title">ğŸ§¸ è«‹é¸æ“‡ä»£è³¼å ´æ¬¡</h2>
    <div class="event-grid">
        <div class="event-card" onclick="selectEvent('æ—¥æœ¬è¶…å¸‚')">
            <h3>ğŸ›’ æ—¥æœ¬è¶…å¸‚</h3>
            <p style="color:#999; font-size:12px; margin-top:10px;">é»æ“Šé€²å…¥å•†å“é </p>
        </div>
        <div class="event-card" onclick="selectEvent('SS10æ—¥æœ¬å‘¨é‚Š')">
            <h3>ğŸ¤ SS10 å‘¨é‚Š</h3>
            <p style="color:#999; font-size:12px; margin-top:10px;">é»æ“Šé€²å…¥å•†å“é </p>
        </div>
        <div class="event-card" onclick="selectEvent('SS10è¿½åŠ å‘¨é‚Š')">
            <h3>ğŸ”¥ è¿½åŠ å‘¨é‚Š</h3>
            <p style="color:#999; font-size:12px; margin-top:10px;">é»æ“Šé€²å…¥å•†å“é </p>
        </div>
    </div>
</div>

<header>
    <div class="logo">âœ¦ 33 PROXY</div>
    <div id="current-user">æ­¡è¿å…‰è‡¨</div>
</header>

<div class="main-container">
    <div class="product-area">
        <button class="back-btn" onclick="location.reload()">â† è¿”å›å ´æ¬¡åˆ—è¡¨</button>
        <h2 id="view-title" style="margin-top:0;">è«‹é¸æ“‡å ´æ¬¡</h2>
        <table class="product-table">
            <thead>
                <tr>
                    <th>å•†å“åç¨±</th>
                    <th style="width:100px;">å”®åƒ¹</th>
                    <th style="width:80px;">æ“ä½œ</th>
                </tr>
            </thead>
            <tbody id="product-tbody">
                </tbody>
        </table>
    </div>

    <div class="cart-sidebar">
        <div class="cart-header">ğŸ›’ ä¸‹å–®æ¸…å–®</div>
        <div class="cart-list" id="cart-list">
            <p style="color:#bbb; text-align:center; margin-top:50px;">ç›®å‰æ¸…å–®æ˜¯ç©ºçš„</p>
        </div>
        
        <div class="cart-footer">
            <div class="total-box">
                <span>ç¸½è¨ˆ</span>
                <span>$ <span id="total-price">0</span></span>
            </div>
            <input type="text" id="nick" class="nick-input" placeholder="è«‹å¡«å¯« Line æš±ç¨±">
            <button class="submit-btn" onclick="submitOrder()">ç¢ºèªé€å‡ºè¨‚å–®</button>
        </div>
    </div>
</div>

<script>
    // é è¨­å•†å“è³‡æ–™
    const database = {
        "æ—¥æœ¬è¶…å¸‚": [
            { c: "æœé£¾", n: "T-shirt(M/L)", p: 1200 },
            { c: "æœé£¾", n: "åŠæ‹‰éŠä¸Šè¡£(M/L)", p: 2700 },
            { c: "ç”Ÿæ´»", n: "æ–¹å·¾", p: 700 },
            { c: "ç”Ÿæ´»", n: "æ‘ºç–Šç’°ä¿è¢‹", p: 750 },
            { c: "ç”Ÿæ´»", n: "æ‰‹æè¢‹", p: 1150 },
            { c: "å‘¨é‚Š", n: "å‹•ç‰©æ£’æ£’ç³–åŠé£¾", p: 500 },
            { c: "å‘¨é‚Š", n: "é¦¬å…‹æ¯", p: 800 },
            { c: "å‘¨é‚Š", n: "å£“å…‹åŠ›ç«‹ç‰Œ", p: 700 },
            { c: "é£Ÿå“", n: "èœ‚èœœå¥¶æ²¹è›‹ç³•v2.0", p: 500 },
            { c: "éš¨æ©Ÿ", n: "å¾½ç« (éš¨æ©Ÿ)", p: 380 }
        ],
        "SS10æ—¥æœ¬å‘¨é‚Š": [
            { c: "æœé£¾", n: "01 æ¼”å”±æœƒTæ¤", p: 1070 },
            { c: "æœé£¾", n: "02 æ¼”å”±æœƒå¤–å¥—", p: 2300 },
            { c: "é…ä»¶", n: "04 æ¼”å”±æœƒèƒŒåŒ…", p: 1420 },
            { c: "æ‡‰æ´", n: "07 æ‰‹ç‡ˆè£é£¾", p: 600 },
            { c: "æ‡‰æ´", n: "09 æ‡‰æ´æ‰‡", p: 350 },
            { c: "å‘¨é‚Š", n: "15 å¨ƒå¨ƒé‘°åŒ™åœˆ", p: 880 },
            { c: "é£Ÿå“", n: "18 ç„¡å°¾ç†Šé¤…ä¹¾", p: 330 }
        ],
        "SS10è¿½åŠ å‘¨é‚Š": [
            { c: "è¿½åŠ ", n: "01 è¡£æœ M/L", p: 1250 },
            { c: "è¿½åŠ ", n: "02 æ‹–é‹", p: 1360 },
            { c: "è¿½åŠ ", n: "03 å¤šåŠŸèƒ½æ”¶ç´åŒ…", p: 1200 },
            { c: "è¿½åŠ ", n: "06 æ‰‡å¥—", p: 1100 }
        ]
    };

    let cart = [];

    // é¸å–å ´æ¬¡
    function selectEvent(name) {
        document.getElementById('event-overlay').style.display = 'none';
        document.getElementById('view-title').innerText = "ğŸ“ æ´»å‹•å ´æ¬¡ï¼š" + name;
        renderProducts(name);
    }

    // ç”Ÿæˆå•†å“è¡¨æ ¼
    function renderProducts(eventName) {
        const tbody = document.getElementById('product-tbody');
        tbody.innerHTML = '';
        const items = database[eventName];

        items.forEach(item => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
                <td><span class="cat-badge">${item.c}</span> ${item.n}</td>
                <td style="color:#d9534f; font-weight:bold;">$${item.p}</td>
                <td><button class="add-btn" onclick="addToCart('${item.n}', ${item.p})">åŠ å…¥</button></td>
            `;
            tbody.appendChild(tr);
        });
    }

    // åŠ å…¥è³¼ç‰©è»Š
    function addToCart(name, price) {
        cart.push({ name, price });
        updateCartUI();
    }

    // åˆªé™¤å•†å“
    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartUI();
    }

    // æ›´æ–°è³¼ç‰©è»Šé¡¯ç¤º
    function updateCartUI() {
        const list = document.getElementById('cart-list');
        const totalDisp = document.getElementById('total-price');
        
        if (cart.length === 0) {
            list.innerHTML = '<p style="color:#bbb; text-align:center; margin-top:50px;">ç›®å‰æ¸…å–®æ˜¯ç©ºçš„</p>';
            totalDisp.innerText = '0';
            return;
        }

        list.innerHTML = '';
        let total = 0;
        cart.forEach((item, index) => {
            total += item.price;
            const itemDiv = document.createElement('div');
            itemDiv.className = 'cart-item';
            itemDiv.innerHTML = `
                <span>${item.name}</span>
                <span>$${item.price} <button class="remove-btn" onclick="removeFromCart(${index})">âœ•</button></span>
            `;
            list.appendChild(itemDiv);
        });
        totalDisp.innerText = total.toLocaleString();
    }

    // çµå¸³é€å‡º
    function submitOrder() {
        const nick = document.getElementById('nick').value;
        if (!nick) return alert('è«‹å¡«å¯«æš±ç¨±ä»¥ä¾¿å°å¸³ï¼');
        if (cart.length === 0) return alert('æ¸…å–®è£¡é‚„æ²’æœ‰å•†å“å–”ï¼');

        let summary = `ã€33 æ—¥æœ¬ä»£è³¼è¨‚å–®ã€‘\næš±ç¨±ï¼š${nick}\n---\n`;
        cart.forEach(item => {
            summary += `â— ${item.name} ($${item.price})\n`;
        });
        summary += `---\nç¸½è¨ˆé‡‘é¡ï¼š$${document.getElementById('total-price').innerText}\n\nè«‹æˆªåœ–æ­¤ç•«é¢å‚³çµ¦ 33 å®Œæˆä¸‹å–®ï¼`;
        
        alert(summary);
    }
</script>

</body>
</html>
